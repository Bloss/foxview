function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t(e,t){return e(t={exports:{}},t.exports),t.exports}var n=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMarker=(()=>document.createComment("")),t.marker=`{{tiny-${String(Math.random()).slice(2)}}}`,t.nodeMarker=`\x3c!--${t.marker}--\x3e`,t.markerRegex=new RegExp(`${t.marker}|${t.nodeMarker}`),t.boundAttributeSuffix="$tiny$";const n=new Map;t.matchLastAttributeName=function(e){const t=n.get(e);if(t)return t;const r=s.exec(e);return r&&n.set(e,r),r};const s=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/});e(n);n.createMarker,n.marker,n.nodeMarker,n.markerRegex,n.boundAttributeSuffix,n.matchLastAttributeName;var s=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isCEPolyfill=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,t.clone=function(e){return t.isCEPolyfill?e.content.cloneNode(!0):document.importNode(e.content,!0)},t.reparentNodes=((e,t,n=null,s=null)=>{let r=t;for(;r!==n;){const t=r.nextSibling;e.insertBefore(r,s),r=t}}),t.removeNodes=((e,t,n=null)=>{let s=t;for(;s!==n;){const t=s.nextSibling;e.removeChild(s),s=t}})});e(s);s.isCEPolyfill,s.clone,s.reparentNodes,s.removeNodes;var r=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e,t,n){this.strings=e,this.values=t,this.type=n}getHTML(){const e=this.strings.length-1;let t="";for(let s=0;s<e;s++){const e=this.strings[s],r=n.matchLastAttributeName(e);t+=r?e.substr(0,r.index)+r[1]+r[2]+n.boundAttributeSuffix+r[3]+n.marker:e+n.nodeMarker}return t+=this.strings[e]}getTemplateElement(){const e=document.createElement("template");return e.innerHTML=this.getHTML(),e}}t.TemplateResult=r;t.SVGTemplateResult=class extends r{getHTML(){return`<svg>${super.getHTML()}</svg>`}getTemplateElement(){const e=super.getTemplateElement(),t=e.content,n=t.firstChild;return t.removeChild(n),s.reparentNodes(t,n.firstChild),e}}});e(r);r.TemplateResult,r.SVGTemplateResult;var o=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.TemplateInstance=class{constructor(e){this._peons=[],this.options=e}_prepareFrament(e){const{peons:t,fragment:n}=this.options.templateProcessor(e,this.options);this.fragment=n,this._peons=t}update(e){this.fragment||this._prepareFrament(e),this.template=e,this._peons.forEach(e=>{e.setValue(this.template.values)}),this._peons.forEach(e=>{e.commit()})}isSameTemplate(e){if(this.template.type!==e.type)return!1;const t=this.template.strings,n=e.strings,s=t.length;if(s!==n.length)return!1;for(let e=0;e<s;e++)if(t[e]!==n[e])return!1;return!0}}});e(o);o.TemplateInstance;var i=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e},t.isPrimitive=(e=>null===e||!("object"==typeof e||"function"==typeof e))});e(i);i.isString,i.isPrimitive;var a=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class a{constructor(e){this._pendingValue=void 0,this._valueIndex=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(n.createMarker()),this.endNode=e.appendChild(n.createMarker())}attachNode(e){this.startNode=n.createMarker(),this.endNode=n.createMarker();const t=e.parentNode;t.insertBefore(this.endNode,e),t.insertBefore(this.startNode,this.endNode)}setValueIndex(e){this._valueIndex=e}appendIntoPart(e){e._insert(this.startNode=n.createMarker()),e._insert(this.endNode=n.createMarker())}insertAfterPart(e){e._insert(this.startNode=n.createMarker()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.options&&null!=this._valueIndex?this._pendingValue=e[this._valueIndex]:this._pendingValue=e}_insert(e){this.endNode.parentNode.insertBefore(e,this.endNode),this._node=e}_clear(e=this.startNode){s.removeNodes(this.startNode.parentNode,e.nextSibling,this.endNode)}_commitTemplateResult(e){if(this.value&&this.value.isSameTemplate(e))this.value.update(e);else{const t=new o.TemplateInstance(this.options);t.update(e),this._insert(t.fragment),this.value=t}}_commitIterable(e){Array.isArray(this.value)||(this.value=[],this._clear());const t=this.value;let n,s=0;for(const r of e)void 0===(n=t[s])&&(n=new a(this.options),t.push(n),0===s?n.appendIntoPart(this):n.insertAfterPart(t[s-1])),n.setValue(r),n.commit(),s++;s<t.length&&(t.length=s,this._clear(n&&n.endNode))}_commitText(e){if(e=null==e?"":e,this.value){if(this.value.nodeValue===e)return;this.value.nodeValue=e}else this.value=document.createTextNode("string"==typeof e?e:String(e)),this._insert(this.value)}commit(){const e=this._pendingValue;e instanceof r.TemplateResult?this._commitTemplateResult(e):Array.isArray(e)?this._commitIterable(e):i.isPrimitive(e)&&this._commitText(e)}}t.NodePart=a});e(a);a.NodePart;var d=t(function(e,t){var n;function s(e,t,n){let s="";const r=t.length-1;for(let o=0;o<r;o++)s+=t[o]+n[e+o];return s+=t[r]}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Attribute=0]="Attribute",e[e.Content=1]="Content"}(n=t.PeonType||(t.PeonType={}));class r{constructor(e){this._shouldUpdate=!1,this.startIndex=e.startIndex,this.name=e.name,this.node=e.node,this.strings=e.strings}setValue(e){const t=s(this.startIndex,this.strings,e);t!==this._pendingValue&&(this._shouldUpdate=!0),this._pendingValue=t}commit(){this._shouldUpdate&&(this.node.setAttribute(this.name,this._pendingValue),this._shouldUpdate=!1)}}class o{constructor(e){this._shouldUpdate=!1,this.startIndex=e.startIndex,this.node=e.node,this.strings=e.strings}setValue(e){s(this.startIndex,this.strings,e)!==this._pendingValue&&(this._shouldUpdate=!0),this._pendingValue=s(this.startIndex,this.strings,e)}commit(){this._shouldUpdate&&(this.node.nodeValue=this._pendingValue,this._shouldUpdate=!1)}}t.createPeon=function(e,t){switch(e){case n.Attribute:return new r(t);case n.Content:return new o(t)}}});e(d);d.PeonType,d.createPeon;var l=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const r={1:function(e,t,s,r){const{templateResult:o}=r;if(e.hasAttributes()){const r=e.attributes;for(let i=0;i<r.length;i++)if(r[i].value.indexOf(n.marker)>=0){const r=o.strings[t],i=n.matchLastAttributeName(r)[2],a=i.toLowerCase()+n.boundAttributeSuffix,l=e.getAttribute(a).split(n.markerRegex);e.removeAttribute(a),s.push(d.createPeon(d.PeonType.Attribute,{startIndex:t,strings:l,name:i,node:e})),t+=l.length-1}}return{partIndex:t}},3:function(e,t,s){const r=e.nodeValue;if(r&&r.indexOf(n.marker)>=0){const o=r.split(n.markerRegex);s.push(d.createPeon(d.PeonType.Content,{startIndex:t,strings:o,node:e})),t+=o.length-1}return{partIndex:t}},8:function(e,t,s,r){const{renderOption:o}=r,i=[];if(e.nodeValue===n.marker){const n=new a.NodePart(o);n.setValueIndex(t),n.attachNode(e),s.push(n),t+=1,i.push(e)}return{partIndex:t,nodesToRemove:i}}};t.default=function(e,t){const n=s.clone(e.getTemplateElement()),o=[],i=document.createTreeWalker(n,133,null,!1);let a=0,d=[];for(;i.nextNode();){const n=i.currentNode,s=r[n.nodeType];if(s){const r=s(n,a,o,{templateResult:e,renderOption:t});a=r.partIndex,r.nodesToRemove&&(d=d.concat(r.nodesToRemove))}}for(const e of d)e.parentNode.removeChild(e);return{fragment:n,peons:o}}});e(l);var u=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=new WeakMap;t.render=function(e,t,r){let o=n.get(t);void 0===o&&(s.removeNodes(t,t.firstChild),n.set(t,o=new a.NodePart(Object.assign({templateProcessor:l.default},r))),o.appendInto(t)),o.setValue(e),o.commit()}});e(u);u.render;var c=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Component=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this._reRender()}_reRender(){u.render(this.render(),this.shadowRoot)}attributeChangedCallback(e,t,n){console.log(e,t,n)}},t.defineComponent=function(e,t){customElements.define(e,t)}});e(c);c.Component,c.defineComponent;var h=t(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defineComponent=c.defineComponent,t.Component=c.Component,t.render=u.render,t.html=function(e,...t){return new r.TemplateResult(e,t,"html")},t.svg=function(e,...t){return new r.SVGTemplateResult(e,t,"svg")}}),p=e(h),m=h.defineComponent,f=h.Component,g=h.render,x=h.html,_=h.svg;export default p;export{m as defineComponent,f as Component,g as render,x as html,_ as svg};
